<syncfusion:ChromelessWindow
    x:Class="Lyra.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Lyra"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:songs="clr-namespace:Lyra.Features.Songs"
    xmlns:syncfusion="http://schemas.syncfusion.com/wpf"
    Title="Lyra"
    Width="1200"
    Height="800"
    d:DataContext="{d:DesignInstance local:MainWindowViewModel}"
    Icon="Resources/logo-32.png"
    TitleBarForeground="{StaticResource PrimaryBrush}"
    TitleBarHeight="40"
    TitleFontSize="20"
    mc:Ignorable="d">
    <Grid Margin="8">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="200" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="1*" MinWidth="400" />
            <ColumnDefinition Width="2*" />
        </Grid.ColumnDefinitions>

        <Grid
            Grid.Row="0"
            Grid.Column="0"
            Grid.ColumnSpan="2">

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*" MinWidth="100" />
                <ColumnDefinition Width="5*" MinWidth="300" />
                <ColumnDefinition Width="1*" MinWidth="100" />
            </Grid.ColumnDefinitions>
            <Grid Grid.Column="1" Margin="5,-10,5,5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Viewbox>
                    <Path
                        Width="20"
                        Height="20"
                        Margin="5"
                        Fill="{StaticResource PrimaryBrush}"
                        RenderTransformOrigin="0.5,0.5"
                        Stretch="Uniform">
                        <Path.Data>
                            <PathGeometry Figures="M40.03125,18L35.578125,18.421875 31.40625,19.6875 27.7031230926514,21.7734375 24.46875,24.46875 21.7734375,27.7031288146973 19.6875,31.40625 18.421875,35.5781288146973 18,40.03125 18.421875,44.4140625 19.6875,48.5625 21.7734375,52.32421875 24.46875,55.546875 27.7031230926514,58.20703125 31.40625,60.28125 35.578125,61.546875 40.03125,61.96875 44.4140625,61.546875 48.5625,60.28125 52.3242149353027,58.20703125 55.546875,55.546875 58.2070274353027,52.32421875 60.28125,48.5625 61.5468711853027,44.4140625 61.96875,40.03125 61.5468711853027,35.5781288146973 60.28125,31.40625 58.2070274353027,27.7031288146973 55.546875,24.46875 52.3242149353027,21.7734375 48.5625,19.6875 44.4140625,18.421875 40.03125,18z M40.03125,10.03125L46.03125,10.6171875 51.65625,12.375 56.8124961853027,15.15234375 61.21875,18.796875 64.8515625,23.21484375 67.6875,28.3125 69.4453125,33.9609413146973 70.03125,40.03125 69.62109375,44.98828125 68.390625,49.734375 66.43359375,54.17578125 63.84375,58.21875 82.875,77.15625 83.71875,78.48046875 84,80.015625 83.71875,81.55078125 82.875,82.875 81.65625,83.671875 80.25,84 78.8203125,83.8359375 77.53125,83.15625 77.15625,82.875 58.21875,63.84375 54.1757774353027,66.43359375 49.734375,68.390625 44.98828125,69.62109375 40.03125,70.03125 33.9609375,69.4453125 28.3125,67.6875 23.21484375,64.8515625 18.796875,61.21875 15.15234375,56.8125 12.375,51.65625 10.6171875,46.03125 10.03125,40.03125 10.6171875,33.9609413146973 12.375,28.3125 15.15234375,23.21484375 18.796875,18.796875 23.21484375,15.15234375 28.3125,12.375 33.9609375,10.6171875 40.03125,10.03125z" FillRule="Nonzero" />
                        </Path.Data>
                        <Path.RenderTransform>
                            <TransformGroup>
                                <TransformGroup.Children>
                                    <RotateTransform Angle="0" />
                                    <ScaleTransform ScaleX="1" ScaleY="1" />
                                </TransformGroup.Children>
                            </TransformGroup>
                        </Path.RenderTransform>
                    </Path>
                </Viewbox>
                <syncfusion:SfTextBoxExt
                    x:Name="SearchBox"
                    Grid.Column="1"
                    Height="28"
                    HorizontalAlignment="Stretch"
                    AutoCompleteMode="Suggest"
                    AutoCompleteSource="{Binding SongTags}"
                    MultiSelectMode="Token"
                    SelectedItems="{Binding SearchItems, Mode=OneWayToSource}"
                    ShowClearButton="True"
                    SuggestionMode="ContainsOrdinal"
                    Text="{Binding SearchText, Mode=OneWayToSource, UpdateSourceTrigger=PropertyChanged}"
                    TextHighlightMode="MultipleOccurrence"
                    Watermark="Liedersuche" />
            </Grid>
        </Grid>

        <ListView
            Grid.Row="1"
            Grid.Column="0"
            Margin="5"
            ItemsSource="{Binding SongsView}"
            SelectedValue="{Binding SelectedSong, Mode=TwoWay}"
            SelectionMode="Single">
            <b:Interaction.Triggers>
                <b:EventTrigger EventName="MouseDoubleClick">
                    <b:InvokeCommandAction Command="{Binding PresentSongCommand}" />
                </b:EventTrigger>
            </b:Interaction.Triggers>
            <ListView.ItemTemplate>
                <DataTemplate DataType="{x:Type songs:SongViewModel}">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock
                            Margin="2"
                            Foreground="DarkGray"
                            Text="{Binding Number}" />
                        <TextBlock
                            Margin="2"
                            FontWeight="SemiBold"
                            Text="{Binding Title}" />
                    </StackPanel>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>

        <Border
            Grid.Row="1"
            Grid.Column="1"
            Margin="5"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Stretch"
            Background="White"
            BorderBrush="DimGray"
            BorderThickness="1">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <StackPanel Grid.Row="0" Orientation="Horizontal">
                    <TextBlock Margin="5" Text="{Binding SelectedSong.Number}" />
                    <TextBlock Margin="5" Text="{Binding SelectedSong.Title}" />
                </StackPanel>

                <TextBlock
                    Grid.Row="1"
                    Margin="5"
                    Text="{Binding SelectedSong.Text}" />
            </Grid>

        </Border>

        <Grid
            Grid.Row="2"
            Grid.ColumnSpan="2"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Stretch">
            <Button Command="{Binding PresentSongCommand}" Content="{Binding PresentSongButtonText}" />
        </Grid>
    </Grid>
</syncfusion:ChromelessWindow>
